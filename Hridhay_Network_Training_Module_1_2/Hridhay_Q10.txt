When a new device is added to the network, it broadcasts a request message which contains the source address as 0.0.0.0 to every node on the network including the DHCP server. DHCP server on receiving the message returns an offer message to the device that sent the message which contains the server address and new IP address to the node. In case there are multiple servers on the network, the host receives multiple messages, the host selects one message from the pool of messages.
 
The requested host upon receiving the offer message, again broadcasts a request message on the network with the address of the server whose offer message is accepted by the host. The server which pertains to that server address sent by the host checks whether the address to be assigned to the node is available in the data storage. If the address is assigned, it marks the IP address in the storage as unavailable to ensure consistency. Now, the server sends a packet to the requested host which contains network information(IP address, subnet mask, gateway address). In case, if the address is assigned to another machine meanwhile, then the server sends a different packet to the requested host indicating that the IP address is assigned to some other machine. 
 
At the end, If the host wants to move to another network or if it has finished its work, it sends a packet to the server telling that it wants to disconnect. Then the server marks the IP address as available in the storage so that it can be assigned to other machines. 